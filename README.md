## Description

Example of Python Flask app running on AWS
Flask app in /app directory build and pushed to ECR by terraform.
HTTPS is provided by self signed cert generated by terraform.
A random string generated in terraform stored in SSM as secret and passed to Fargate App via environment variables.
HTTP requests to root will return the SSM secret.
VPC is deployed with 2 public, 2 private subnets and 2 NAT GWs.



## Requirements

- AWS CLI -> 2.x
- DOCKER -> 24.x
- TERRAFORM -> 1.5.x



## Variables

Stored in variables.tf.  Change the default values according to your environment.

- **docker_host** = Docker daemon address. Can be located in user dir. eg. "unix:///Users/username/.docker/run/docker.sock" or "unix:///var/run/docker.sock"
- **region** = AWS Region
- **aws_profile** = The profile name created by aws cli. SSO profiles can be used as well. If you want any other authentication method refer to offical documentation in https://registry.terraform.io/providers/hashicorp/aws/latest/docs#authentication-and-configuration



## Run 
```
terraform init
terraform apply -auto-approve
```
It will print out the **ALB DNS** name after the provisioning.

Destory resources with:
```
terraform apply -destroy -auto-approve
```